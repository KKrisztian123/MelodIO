type AllOrNothing<T> = T | Partial<Record<keyof T, undefined>>